<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-icon (click)="closeModal()" slot="start" src="assets/black_icons/Close-Black.svg"></ion-icon>
    </ion-buttons>
    <ion-title>
      <img src="../assets/br_logo_small.png">
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <div class="ion-text-center">
      <h1>Interest Point</h1>
    </div>
    <ion-list>
      <form [formGroup]="interestForm" (ngSubmit)="submitForm()" novalidate>

        <div class="ion-padding">

          <mat-form-field *ngFor="let ip of form_interest" appearance="outline">
            <mat-label>{{ip.text}}</mat-label>
            <input formControlName="{{ip.control}}" matInput placeholder="Placeholder">
            <!-- Error messages -->
            <mat-error class="error" *ngIf="submited && errorControl[ip.control].errors?.required">
              {{ip.msg_required}}
            </mat-error>
          </mat-form-field>

          <!-- Photo POI -->
          <ion-button fill="outline" id="img_upload" (click)="f.click()">
            <input class="ion-hide" (change)="getFilesPOI($event)" #f type="file" id="file-input"
              accept="image/png, image/jpeg" multiple>
            Upload POI Photos
          </ion-button>
        </div>
        <ion-slides pager="true" *ngIf="image_list != null">
          <ion-slide *ngFor="let url of image_list">
            <img [src]="url" height="100">
          </ion-slide>
        </ion-slides>

        <!-- Search Bar -->
        <ion-searchbar (ionChange)="updateSearch($event)" placeholder="Find your POI in map">
        </ion-searchbar>
        <mat-list *ngFor="let sug of ListSuggestions">
          <mat-list-item (click)="itemClick(sug)">{{sug}}</mat-list-item>
          <mat-divider></mat-divider>
        </mat-list>
        <!-- Map -->
        <div class="ion-padding">
          <ion-label>Locate on map</ion-label>
          <br>
          <div id="map" style="height: 400px;">
          </div>
          <div *ngIf="interestForm.get('name').value != null"> {{interestForm.get('name').value}}</div>
        </div>
        <!-- Submit button -->
        <div class="ion-text-center">
          <ion-button type="submit">Create Interest Point</ion-button>
        </div>

      </form>
    </ion-list>
  </ion-card>
</ion-content>